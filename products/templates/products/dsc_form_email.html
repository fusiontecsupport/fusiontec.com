{% extends 'products/email_base.html' %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    <!-- Header -->
    <div style="background: linear-gradient(135deg, #1f3c88 0%, #2563eb 100%); color: white; padding: 30px; text-align: center;">
        <h1 style="margin: 0; font-size: 24px; font-weight: 600;">DSC {{ submission_type }} Submission</h1>
        <p style="margin: 10px 0 0 0; opacity: 0.9; font-size: 16px;">New Digital Signature Certificate {{ submission_type|lower }} received</p>
    </div>

    <!-- Content -->
    <div style="padding: 30px;">
        <div style="background-color: #f8f9fa; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; color: #1f3c88; font-size: 18px;">üìã Submission Details</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 14px;">
                <div>
                    <strong>Submission ID:</strong><br>
                    <span style="color: #6c757d;">#{{ submission.id }}</span>
                </div>
                <div>
                    <strong>Submission Type:</strong><br>
                    <span style="color: #6c757d;">{{ submission_type }}</span>
                </div>
                <div>
                    <strong>Date:</strong><br>
                    <span style="color: #6c757d;">{{ submission.created_at|date:"d M Y, h:i A" }}</span>
                </div>
                <div>
                    <strong>Status:</strong><br>
                    <span style="color: #6c757d;">{{ submission.status|title }}</span>
                </div>
            </div>
        </div>

        <!-- Customer Information -->
        <div style="background-color: #f8f9fa; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; color: #1f3c88; font-size: 18px;">üë§ Customer Information</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 14px;">
                <div>
                    <strong>Name:</strong><br>
                    <span style="color: #6c757d;">{{ submission.name }}</span>
                </div>
                <div>
                    <strong>Email:</strong><br>
                    <span style="color: #6c757d;">{{ submission.email }}</span>
                </div>
                <div>
                    <strong>Mobile:</strong><br>
                    <span style="color: #6c757d;">{{ submission.mobile }}</span>
                </div>
                <div>
                    <strong>Company:</strong><br>
                    <span style="color: #6c757d;">{{ submission.company_name|default:"Not provided" }}</span>
                </div>
                {% if submission.gst_number %}
                <div>
                    <strong>GST Number:</strong><br>
                    <span style="color: #6c757d;">{{ submission.gst_number }}</span>
                </div>
                {% endif %}
                {% if submission.address %}
                <div>
                    <strong>Address:</strong><br>
                    <span style="color: #6c757d;">{{ submission.address }}</span>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Reference Information -->
        {% if submission.reference_name or submission.reference_contact %}
        <div style="background-color: #f8f9fa; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; color: #1f3c88; font-size: 18px;">üìû Reference Information</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 14px;">
                {% if submission.reference_name %}
                <div>
                    <strong>Reference Name:</strong><br>
                    <span style="color: #6c757d;">{{ submission.reference_name }}</span>
                </div>
                {% endif %}
                {% if submission.reference_contact %}
                <div>
                    <strong>Reference Contact:</strong><br>
                    <span style="color: #6c757d;">{{ submission.reference_contact }}</span>
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <!-- DSC Configuration -->
        <div style="background-color: #f8f9fa; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; color: #1f3c88; font-size: 18px;">üîê DSC Configuration</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 14px;">
                <div>
                    <strong>Class Type:</strong><br>
                    <span style="color: #6c757d;">{{ submission.class_type|upper }}</span>
                </div>
                <div>
                    <strong>User Type:</strong><br>
                    <span style="color: #6c757d;">{{ submission.user_type|title }}</span>
                </div>
                <div>
                    <strong>Certificate Type:</strong><br>
                    <span style="color: #6c757d;">{{ submission.cert_type|title }}</span>
                </div>
                <div>
                    <strong>Validity:</strong><br>
                    <span style="color: #6c757d;">{{ submission.validity }}</span>
                </div>
                <div>
                    <strong>Include Token:</strong><br>
                    <span style="color: #6c757d;">{{ submission.include_token|yesno:"Yes,No" }}</span>
                </div>
                <div>
                    <strong>Include Installation:</strong><br>
                    <span style="color: #6c757d;">{{ submission.include_installation|yesno:"Yes,No" }}</span>
                </div>
                <div>
                    <strong>Outside India:</strong><br>
                    <span style="color: #6c757d;">{{ submission.outside_india|yesno:"Yes,No" }}</span>
                </div>
                <div>
                    <strong>Quoted Price:</strong><br>
                    <span style="color: #6c757d;">‚Çπ{{ submission.quoted_price|floatformat:2 }}</span>
                </div>
            </div>
        </div>

        <!-- Document Uploads -->
        {% if submission.pan_copy or submission.aadhar_copy or submission.photo or submission.gst_certificate or submission.authorization_letter or submission.company_pan or submission.ifc_certificate %}
        <div style="background-color: #f8f9fa; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; color: #1f3c88; font-size: 18px;">üìé Uploaded Documents</h3>
            <div style="font-size: 14px;">
                {% if submission.pan_copy %}
                <div style="margin-bottom: 8px;">
                    <strong>PAN Card:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
                {% if submission.aadhar_copy %}
                <div style="margin-bottom: 8px;">
                    <strong>Aadhar Card:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
                {% if submission.photo %}
                <div style="margin-bottom: 8px;">
                    <strong>Photo:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
                {% if submission.gst_certificate %}
                <div style="margin-bottom: 8px;">
                    <strong>GST Certificate:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
                {% if submission.authorization_letter %}
                <div style="margin-bottom: 8px;">
                    <strong>Authorization Letter:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
                {% if submission.company_pan %}
                <div style="margin-bottom: 8px;">
                    <strong>Company PAN:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
                {% if submission.ifc_certificate %}
                <div style="margin-bottom: 8px;">
                    <strong>IFC Certificate:</strong> ‚úÖ Uploaded
                </div>
                {% endif %}
            </div>
        </div>
        {% endif %}

        <!-- Action Required -->
        <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 6px; padding: 20px; margin-bottom: 25px;">
            <h3 style="margin: 0 0 15px 0; color: #856404; font-size: 18px;">‚ö†Ô∏è Action Required</h3>
            <p style="margin: 0; color: #856404; font-size: 14px;">
                {% if submission_type == 'Enquiry' %}
                This is an enquiry submission. Please contact the customer to discuss requirements and provide a detailed quote.
                {% else %}
                This is a purchase submission. Please process the order and coordinate with the customer for payment completion.
                {% endif %}
            </p>
        </div>

        <!-- Footer -->
        <div style="text-align: center; padding-top: 20px; border-top: 1px solid #e9ecef;">
            <p style="margin: 0; color: #6c757d; font-size: 14px;">
                This email was sent from the FusionTec DSC form system.<br>
                Submission ID: #{{ submission.id }} | Date: {{ submission.created_at|date:"d M Y, h:i A" }}
            </p>
        </div>
    </div>
</div>
{% endblock %}

